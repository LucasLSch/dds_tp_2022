<!DOCTYPE html>
<html>
<head>
  <title>Mis Trayectos</title>
  <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Patrick+Hand+SC&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" th:href="@{/css/utils/normalize.css}">
  <link rel="stylesheet" th:href="@{/css/utils/rootVariables.css}">
  <link rel="stylesheet" th:href="@{/css/utils/buttons.css}">
  <link rel="stylesheet" th:href="@{/css/menu/menu.css}">
  <link rel="stylesheet" th:href="@{/css/footer/footer.css}">
  <link rel="stylesheet" th:href="@{/css/reports/reports.css}">
</head>
<body>
<div class="site-size">

  <div th:replace="fragments/menu :: menu"></div>
  <div th:replace="fragments/footer :: footer"></div>

  <div class="site-body">

    <div class="site-header">
      <span class="site-title">Mis Huellas de Carbono</span>
      <div class="site-info">
        <img alt="PencilIcon" class="site-info-icon" th:src="@{css/reports/img/description_icon.jpg}">
        <span class="site-info-text">Elige un tipo de reporte y descárgalo!</span>
      </div>
    </div>

    <form method="get" th:action="@{/huellas}">

      <div class="v186_101">
        <span class="form-label">Tipo de Reporte</span>
        <select class="v186_102" th:name="rt" onchange="this.form.submit()">
          <option class="v186_103" th:each="reportType : ${allReportTypes}"
                  th:text="${reportType.name}"
                  th:value="${reportType.value}">
          </option>
        </select>
      </div>

    </form>

    <form method="post" th:action="@{/huellas}">

      <input type="hidden" th:name="fp" th:value="${filePath}"/>

<!--      Con button, borra el archivo pero no lo descarga -->
      <button class="blue-button" th:href="${filePath}" th:download="${fileName}" onclick="this.form.submit()">
        <span class="v185_82">Descargar!</span>
      </button>

<!--      Con a, te salta la pestaña para descargar, pero no descarga ni tampoco submitea el form -->
      <a class="blue-button" th:href="${filePath}" th:download="${fileName}" onclick="this.form.submit()">
        <span class="v185_82">Descargar!</span>
      </a>

    </form>



  </div>

</div>


</body>


</html>